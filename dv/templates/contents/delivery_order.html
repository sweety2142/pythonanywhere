<div class="w3-container w3-hide" id="delivery_order_header" style="width:100%;max-width:1000px">
    <div class="w3-half">
        <h5 class="w3-opacity">
            <b>Delivery Order</b>
        </h5>
    </div>
    <div class="w3-half">
        <h5 class="w3-opacity">
            <b>PDF</b>
        </h5>
        <div class="w3-twothird w3-bar">
            <button type="button" class="w3-button w3-blue w3-round w3-padding-small w3-bar-item " onclick="pdfPrint_delivery_order()" style="width:50%"> Print </button>
        </div>
    </div>
</div>

<div class="w3-container w3-hide" id="delivery_order_db_header" style="width:100%;max-width:1000px">
    <label class="w3-small row2_text_color">Search DataBase</label>
    <select id="deliveryorderDB" class="w3-small w3-pale-yellow w3-card bootstrap3">
        <option value=""></option>
        
        {% for item in all_data %}
        <option style='background-color:yellow'; z-index:10000; value="{{ item }}"> {{ item }}</option>
        {% endfor %}
    </select>
</div>

<div class="w3-container w3-card w3-white w3-margin-bottom w3-hide w3-animate-right " id="delivery_order" style="max-width:1000px;">
    <div class="w3-container">
        <div class="w3-container w3-row-padding w3-margin-bottom w3-small">
            <!-- w3-third [1] -->
            <div class="w3-third">
                <div style="color:#d96868;font-weight:bold">
                    Order No
                </div>
                <div class="w3-half">
                    <input class="w3-input w3-light-gray ht_25" type="text" id="delivery_order_OrderNo" readonly>
                </div>
                <div class="w3-half">
                    <input class="w3-input w3-light-gray ht_25" type="text" id="delivery_order_OrderGubun" readonly>
                </div>
            </div>
        </div>

        <!-- Second row -->
        <div class="w3-container w3-row-padding w3-margin-bottom w3-small">
            <!-- w3-third [1] -->
            <div class="w3-half">
                <div class="row1_text_color">
                    <i class="fa fa-pencil"></i> TO
                </div>
                <input class="w3-input w3-border ht_25" type="text" id="delivery_order_to" name="">
                <div class="row1_text_color">
                    <i class="fa fa-pencil"></i> FROM
                </div>
                <input class="w3-input w3-border ht_25" type="text" id="delivery_order_from" name="">
                <div class="row1_text_color">
                    <i class="fa fa-calendar-check-o"></i> DATE
                </div>
                <input type="text" id="date_delivery_order_date" class="w3-input ht_25 max_width_400">
                <div class="row1_text_color">
                    <i class="fa fa-pencil"></i> BUYER
                </div>
                <input class="w3-input w3-border ht_25" type="text" id="delivery_order_buyer" name="">
                <div class="row1_text_color">
                    <i class="fa fa-pencil"></i> FINAL DESTINATION
                </div>
                <input class="w3-input w3-border ht_25" type="text" id="delivery_order_final_destination" name="">
            </div>
            <div class="w3-col">
                <div class="w3-row row1_text_color">
                    <i class="fa fa-paint-brush" style="color:#0f175e;font-weight:bold"></i> 1. DETAILS
                </div>
                <div class="w3-row w3-quarter row1_text_color">
                    <i class="fa fa-pencil" style="color:#3b0717;font-weight:bold"></i> ITEM
                </div>
                <div class="w3-quarter row1_text_color">
                    <i class="fa fa-pencil" style="color:#d6bac7;font-weight:bold"></i> Q'TY
                </div>
                <div class="w3-quarter row1_text_color">
                    <i class="fa fa-pencil" style="color:#449211;font-weight:bold"></i> CONTAINER
                </div>
                <div class="w3-quarter row1_text_color">
                    <i class="fa fa-pencil" style="color:#8d6110;font-weight:bold"></i> PACKING DETAILS
                </div>

                <textarea class="w3-input w3-border w3-quarter " id="delivery_order_item_1" style="resize:none;height:150px;color:#2b6613;"> </textarea>


                <textarea class="w3-input w3-border w3-quarter " id="delivery_order_item_2" style="resize:none;height:150px;color:#31262c;"> </textarea>


                <textarea class="w3-input w3-border w3-quarter" id="delivery_order_item_3" style="resize:none;height:150px;color:#1a0912;"> </textarea>

                <div class="w3-quarter">
                    <textarea class="w3-input w3-border " id="delivery_order_item_4" style="resize:none;height:100px;color:#0c1141;"> </textarea>
                    <i class="fa fa-star"></i> *Container stuffing date
                    <input type="text" id="date_delivery_order_container" class="w3-input ht_25">
                </div>
            </div>
            <div class="w3-col">
                <div class="w3-half row1_text_color">
                    <i class="fa fa-paint-brush" style="color:#bcc90e;font-weight:bold"></i> 2. SHIPPING MARK
                </div>
                <div class="w3-half  row1_text_color">
                    <i class="fa fa-paint-brush" style="color:#5c0719;font-weight:bold"></i> 3. PACKING
                </div>
                <textarea class="w3-input w3-border w3-half " id="delivery_order_shipping" style="resize:none;height:100px;color:#2b6613;"> </textarea>
                <textarea class="w3-input w3-border w3-half " id="delivery_order_packing" style="resize:none;height:100px;color:#31262c;"> </textarea>
            </div>
            <div class="w3-col">
                <div class="w3-row row1_text_color">
                    <i class="fa fa-paint-brush" style="color:#180c3a;font-weight:bold"></i> 4. SHIPPING SCHEDULE
                </div>
                <div class="w3-row w3-half row1_text_color">
                    <div class="w3-half">
                        <i class="fa fa-angle-double-up"></i> SHIPPING COMPANY
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12 ">
                            <select id="delivery_order_company_sel" class="bootstrap3 w3-small readonly" style="z-index:auto;">
                                <option value=""></option>
                                {% for item in shippingcompany_data %}
                                <option value="{{ item }}">{{ item }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="w3-half">
                        <i class="fa fa-angle-double-up"></i> FORWARDING
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <select id="delivery_order_forwarding_sel" class=" bootstrap3 w3-small readonly">
                                <option value=""></option>
                                {% for item in forwarding_data %}
                                <option value="{{ item }}">{{ item }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="w3-half">
                        <i class="fa fa-pencil"></i> BOOKING NO.
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_booking" name="Days">
                        </div>
                    </div>
                    <div class="w3-half">
                        <i class="fa fa-pencil"></i> VESSEL NAME
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_vessel" name="Days">
                        </div>
                    </div>
                    <div class="w3-half">
                        <i class="fa fa-angle-double-up"></i> CONTAINER YARD
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <select id="delivery_order_cont_sel" class="bootstrap3 w3-small readonly">
                                <option value=""></option>
                                {% for item in containeryard_data %}
                                <option value="{{ item }}">{{ item }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>
                <div class="w3-row w3-half row1_text_color">
                    <div class="w3-half">
                        <i class="fa fa-pencil"></i> ATTN TEL
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_tel" name="Days">
                        </div>
                    </div>
                    <div class="w3-half">
                        <i class="fa fa-pencil"></i> ATTN 담당자
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_damdang" name="Days">
                        </div>
                    </div>
                    <div class="w3-half">
                        <i class="fa fa-pencil"></i> CUSTOMERS
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_customer" name="Days">
                        </div>
                    </div>
                    <div class="w3-full">
                        <i class="fa fa-calendar-check-o"></i> CLOSING TIME
                    </div>
                    <div class="w3-col w3-half">
                        <div class="w3-col s6 m6 l6 w3-center">
                            Document:
                        </div>
                        <div class="w3-col s6 m6 l6">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_closing_doc_date" name="Days">
                        </div>
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s2 m2 l2 w3-center">
                            <i class="fa fa-pencil"></i>
                        </div>
                        <div class="w3-col s10 m10 l10">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_closing_doc" name="Days">
                        </div>
                    </div>
                    <div class="w3-col w3-half">
                        <div class="w3-col s6 m6 l6 w3-center">
                            Container:
                        </div>
                        <div class="w3-col s6 m6 l6">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_closing_cont_date" name="Days">
                        </div>
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s2 m2 l2 w3-center">
                            <i class="fa fa-pencil"></i>
                        </div>
                        <div class="w3-col s10 m10 l10">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_closing_cont" name="Days">
                        </div>
                    </div>

                    <div class="w3-half">
                        <i class="fa fa-calendar-check-o"></i> ETD
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_etd" name="Days">
                        </div>
                    </div>
                    <div class="w3-half">
                        <i class="fa fa-calendar-check-o"></i> ETA
                    </div>
                    <div class="w3-half">
                        <div class="w3-col s12 m12 l12">
                            <input class="w3-input w3-border ht_25" type="text" id="delivery_order_eta" name="Days">
                        </div>
                    </div>
                </div>
            </div>
            <div class="w3-col">
                <div class="w3-row row1_text_color">
                    <i class="fa fa-paint-brush" style="color:#19083a;font-weight:bold"></i> REMARKS
                </div>
                <div class="w3-half w3-center">
                    <i class="fa fa-angle-double-up"></i> Delivery place :
                </div>
                <div class="w3-half">
                    <div class="w3-col s12 m12 l12">
                        <select id="delivery_order_deliveryplace" class="bootstrap3 w3-small readonly">
                            <option value=""></option>
                            {% for item in deliveryplace_data %}
                            <option value="{{ item }}">{{ item }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="w3-half w3-center">
                    <i class="fa fa-angle-double-up"></i> Local trucking :
                </div>
                <div class="w3-half">
                    <div class="w3-col s12 m12 l12">
                        <select id="delivery_order_localtrucking" class="bootstrap3 w3-small readonly">
                            <option value=""></option>
                            {% for item in localtrucking_data %}
                            <option value="{{ item }}">{{ item }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- end of second row -->

</div>



<script>
    $(function() {
        $("#date_delivery_order_date").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: "yy-mm-dd"
        });
        $("#date_delivery_order_container").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: "yy-mm-dd"
        });
        $("#delivery_order_closing_doc_date").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: "yy-mm-dd"
        });
        $("#delivery_order_closing_cont_date").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: "yy-mm-dd"
        });
        $("#delivery_order_etd").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: "yy-mm-dd"
        });
        $("#delivery_order_eta").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: "yy-mm-dd"
        });
    });

    deliveryorderDB = $('#deliveryorderDB').selectize({
        placeholder: "Select item",
        //valueField:'name',
        searchField: ['name'],
        score: function(search) {
            var score = this.getScoreFunction(search);
            return function(item) {
                if (item.text.toLowerCase().indexOf(search.toLowerCase()) > -1) {
                    return 1;
                } else {
                    return 0;
                }
            };
        },
        sortField: [{
            field: 'name',
            direction: 'asc'
        }],
        onDropdownOpen: function($dropdown) {
            this.$input.get(0).selectize.clear(true);
        }
    })[0].selectize;

    delivery_order_company_sel = $('#delivery_order_company_sel').selectize({
        plugins: ['enter_key_submit']
    })[0].selectize;
    delivery_order_company_sel.setValue(0, true);

    delivery_order_forwarding_sel = $('#delivery_order_forwarding_sel').selectize({
        plugins: ['enter_key_submit']
    })[0].selectize;
    delivery_order_forwarding_sel.setValue(0, true);

    delivery_order_cont_sel = $('#delivery_order_cont_sel').selectize({
        plugins: ['enter_key_submit']
    })[0].selectize;
    delivery_order_cont_sel.setValue(0, true);

    delivery_order_deliveryplace = $('#delivery_order_deliveryplace').selectize({
        plugins: ['enter_key_submit']
    })[0].selectize;
    delivery_order_deliveryplace.setValue(0, true);

    delivery_order_localtrucking = $('#delivery_order_localtrucking').selectize({
        plugins: ['enter_key_submit']
    })[0].selectize;
    delivery_order_localtrucking.setValue(0, true);

    function pdfPrint_delivery_order() {
        // set variable    

        var v1 = $("#delivery_order_OrderNo").val();
        var v2 = $("#delivery_order_OrderGubun").val();
        //var v12 = String(v1)+String(v2)
        var v3 = $("#delivery_order_to").val();
        var v4 = $("#delivery_order_from").val();
        var v5 = $("#date_delivery_order_date").val();
        var v6 = $("#delivery_order_buyer").val();
        var v7 = $("#delivery_order_final_destination").val();
        var v8 = $("#delivery_order_item_1").val();
        var v9 = $("#delivery_order_item_2").val();
        var v10 = $("#delivery_order_item_3").val();
        var v11 = $("#delivery_order_item_4").val();

        var v11_1 = $("#date_delivery_order_container").val();
        var v11Str = String(v11) + '\n\n' + '* Container stuffing date : \n' + String(v11_1);

        var v12 = $("#delivery_order_shipping").val();
        var v13 = $("#delivery_order_packing").val();
        var v14 = $("#delivery_order_company_sel").val();
        var v15 = $("#delivery_order_forwarding_sel").val();
        var v16 = $("#delivery_order_booking").val();
        var v17 = $("#delivery_order_vessel").val();
        var v18 = $("#delivery_order_cont_sel").val();
        var v19 = $("#delivery_order_tel").val();
        var v20 = $("#delivery_order_damdang").val();
        var v21 = $("#delivery_order_customer").val();
        var v22 = $("#delivery_order_closing_doc_date").val();
        var v23 = $("#delivery_order_closing_doc").val();
        var v24 = $("#delivery_order_closing_cont_date").val();
        var v25 = $("#delivery_order_closing_cont").val();
        var v26 = $("#delivery_order_etd").val();
        var v27 = $("#delivery_order_eta").val();
        var v28 = $("#delivery_order_deliveryplace").val();
        var v29 = $("#delivery_order_localtrucking").val();


        var companystr = '';
        if (check_company == 'DB')
            companystr = 'DO BEST';
        else if (check_company == 'EI')
            companystr = 'EIN Textile';
        //28, 37, 26,20, 1

        var docDefinition2 = {
            defaultStyle: {
                font: "Roboto"
            },
            content: [{
                        text: companystr + ' CO. LTD.\n',
                        bold: true,
                        fontSize: 15
                    }, {
                        text: '4F, 232 TOJEONG-RO, SEOUL, REPUBLIC OF KOREA\n#04091 T)82.2.3271.3800\n\n'
                    },

                    {
                        alignment: 'center',
                        text: 'DELIVERY ORDER\n',
                        bold: true,
                        fontSize: 30
                    }, {
                        color: '#d85212',
                        table: {
                            widths: [100, 150],
                            heights: [10, 10, 10, 10, 10, 10],
                            body: [
                                [{
                                    bold: true,
                                    alignment: 'center',
                                    text: 'TO',
                                    fontSize: 10

                                }, {
                                    color: '#0a0a0a',
                                    fontSize: 10,
                                    text: v3
                                }],
                                [{
                                    bold: true,
                                    alignment: 'center',
                                    text: 'FROM',
                                    fontSize: 10
                                }, {
                                    color: '#0a0a0a',
                                    fontSize: 10,
                                    text: v4
                                }],
                                [{
                                    bold: true,
                                    alignment: 'center',
                                    text: 'DATE',
                                    fontSize: 10
                                }, {
                                    color: '#0a0a0a',
                                    fontSize: 10,
                                    text: v5
                                }],
                                [{
                                    bold: true,
                                    alignment: 'center',
                                    text: 'ORDER NO.',
                                    fontSize: 10
                                }, {
                                    color: '#0a0a0a',
                                    fontSize: 10,
                                    text: v1
                                }],
                                [{
                                    bold: true,
                                    alignment: 'center',
                                    text: 'BUYER',
                                    fontSize: 10
                                }, {
                                    color: '#0a0a0a',
                                    fontSize: 10,
                                    text: v6
                                }],
                                [{
                                    bold: true,
                                    alignment: 'center',
                                    text: 'FINAL DESTINATION',
                                    fontSize: 10
                                }, {
                                    color: '#0a0a0a',
                                    fontSize: 10,
                                    text: v7
                                }],
                            ]
                        } // table layout
                    }, {
                        margin: [0, 10, 0, 10],
                        text: '1. DETAILS\n'
                    }, {
                        color: '#19083a',
                        table: {
                            heights: [25, 100],
                            widths: [200, 70, 70, '*'],

                            body: [
                                [{
                                    bold: true,
                                    alignment: 'center',
                                    text: 'ITEM',
                                    fontSize: 10

                                }, {
                                    bold: true,
                                    alignment: 'center',
                                    text: 'Q\'TY',
                                    fontSize: 10
                                }, {
                                    bold: true,
                                    alignment: 'center',
                                    text: 'CONTAINER',
                                    fontSize: 10
                                }, {
                                    bold: true,
                                    alignment: 'center',
                                    text: 'PACKING DETAILS',
                                    fontSize: 10
                                }],
                                [{
                                    alignment: 'center',
                                    text: v8,
                                    fontSize: 8
                                }, {
                                    alignment: 'center',
                                    text: v9,
                                    fontSize: 8
                                }, {
                                    alignment: 'center',
                                    text: v10,
                                    fontSize: 8
                                }, {
                                    alignment: 'center',
                                    text: v11Str,
                                    fontSize: 8
                                }]
                            ]
                        } // table layout
                    }, {

                        alignment: 'justify',
                        columns: [{
                            margin: [0, 10, 0, 10],
                            width: 150,
                            text: '2. SHIPPING MARK'

                        }, {
                            margin: [0, 10, 0, 10],
                            width: 'auto',
                            text: '4. SHIPPING SCHEDULE'
                        }]

                    }, {
                        columns: [
                            [{
                                    width: 150,
                                    table: {
                                        heights: [100],
                                        widths: [140],
                                        margin: [0, 0, 10, 0],

                                        body: [
                                            [{
                                                bold: true,
                                                alignment: 'center',
                                                text: v12,
                                                fontSize: 10

                                            }]
                                        ]
                                    } // table layout
                                }, {
                                    text: '\n3. PACKING\n'
                                }, {
                                    margin: [0, 10, 10, 0],
                                    width: 150,
                                    table: {
                                        heights: [100],
                                        widths: [140],


                                        body: [
                                            [{
                                                bold: true,
                                                alignment: 'center',
                                                text: v13,
                                                fontSize: 10

                                            }]
                                        ]
                                    } // table layout
                                }

                            ], {
                                margin: [10, 0, 0, 0],
                                width: '350',
                                table: {
                                    heights: [20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20],
                                    widths: [100, '*'],
                                    margin: [30, 0, 0, 0],

                                    body: [
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'SHIPPING COMPANY',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v14
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'FORWARDING',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v15
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'BOOKING NO.',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v16
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'VESSEL NAME',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v17
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'CONTAINER YARD',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v18
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'ATTN',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v19 + ' ' + v20
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'CUSTOMERS',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v21
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'CLOSING TIME',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: 'Document:' + v22 + ' ' + v23 + '\n' + 'Container:' + v24 + ' ' + v25
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'ETD',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v26
                                        }],
                                        [{
                                            bold: true,
                                            alignment: 'center',
                                            text: 'ETA',
                                            fontSize: 10
                                        }, {
                                            fontSize: 8,
                                            text: v27
                                        }]
                                    ]
                                } // table layout
                            }
                        ]

                    }, {
                        margin: [0, 10, 0, 0],

                        table: {
                            heights: [100],
                            widths: ['*'],


                            body: [
                                [{
                                    alignment: 'left',
                                    text: 'REMARKS\n=Delivery place: ' + v28 + '\n' + '=Local trucking: ' + v29,
                                    fontSize: 10

                                }]
                            ]
                        } // table layout

                    }

                ] // end of content

        }; // end of docDefinition2

        var pdf_name = 'delivery order.pdf';

        var pdf = pdfMake.createPdf(docDefinition2).download(pdf_name);



    } // end of pdfPrint()
</script>